"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[385],{4385:(at,x,l)=>{l.r(x),l.d(x,{BoardsModule:()=>rt});var I=l(5272),u=l(1083),t=l(5e3),g=l(3435),O=l(7087),d=l(9808);const A=["#80cbc4","#c5e1a5","#b0bec5","#fff59d","#b39ddb","#ef9a9a","#e6ee9c","#1de9b6","#ea80fc","#f4ff81","#ff4081","#ffea00","#bdbdbd","#f06292","#4db6ac","#dcedc8","#ffeb3b","#00e676","#cddc39"];var T=l(5446),f=l(7906),s=l(7232),C=l(5245),_=l(7423);let Z=(()=>{class e{constructor(n,o,r,c){this.router=n,this.dialogService=o,this.boardsService=r,this.translate=c,this.bgColor=""}ngOnInit(){this.bgColor=A[this.index]}goToOneBoard(){this.router.navigate(["boards",this.board.id],{state:{color:this.bgColor}})}deleteBoard(){this.dialogService.open(T.S,{data:`${this.translate.instant("CONFIRMATION.DELETE_BOARD")} "${this.board.title}" ?`}).afterClosed().subscribe(o=>{o&&this.board.id&&this.boardsService.deleteBoardById(this.board.id).subscribe(()=>this.boardsService.updateBoards())})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.F0),t.Y36(f.x),t.Y36(g.E),t.Y36(s.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-board-item"]],inputs:{board:"board",index:"index"},decls:13,vars:5,consts:[[1,"main-container","colored-bg"],[1,"close",3,"click"],[1,"title"],["boardText",""],[1,"description"],["mat-raised-button","","color","warn",1,"open",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return o.deleteBoard()}),t.TgZ(2,"mat-icon"),t._uU(3,"delete"),t.qZA()(),t.TgZ(4,"p",2,3),t._uU(6),t.qZA(),t.TgZ(7,"p",4,3),t._uU(9),t.qZA(),t.TgZ(10,"button",5),t.NdJ("click",function(){return o.goToOneBoard()}),t._uU(11),t.ALo(12,"translate"),t.qZA()()),2&n&&(t.xp6(6),t.Oqu(o.board.title),t.xp6(3),t.Oqu(o.board.description),t.xp6(2),t.Oqu(t.lcZ(12,3,"BOARDS.BUTTON")))},directives:[C.Hw,_.lW],pipes:[s.X$],styles:[".main-container[_ngcontent-%COMP%]{width:350px;min-height:150px;display:flex;align-items:center;justify-content:center;border-radius:5px;position:relative;flex-direction:column;margin:3vmin;background-color:#20a54cb3}.main-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:75%;text-align:center;font-size:2rem;font-weight:700;line-height:2.1rem;letter-spacing:.2rem;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.main-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:90%;text-align:center;color:#d9e1e7;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.main-container[_ngcontent-%COMP%]   .open[_ngcontent-%COMP%]{transition:all .2s linear}.main-container[_ngcontent-%COMP%]     .open.mat-raised-button.mat-warn{background-color:#fff}.main-container[_ngcontent-%COMP%]   .open[_ngcontent-%COMP%]:hover{box-shadow:0 0 15px #000000bf}.main-container[_ngcontent-%COMP%]   .open[_ngcontent-%COMP%]:active{box-shadow:0 0 10px #6b6868bf;transform:scale(.95)}.main-container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{color:#d9e1e7;position:absolute;right:4%;top:4%;width:30px;height:30px;background-color:transparent;margin:2%;cursor:pointer;transition:all .2s linear}.main-container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{transform:rotate(-45deg) translate(6px,2px)}.main-container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:active{transform:rotate(45deg)}@media (max-width: 1024px) and (orientation: landscape){.main-container[_ngcontent-%COMP%]{width:320px;align-self:center;justify-content:center}}@media (max-width: 768px) and (orientation: portrait){.main-container[_ngcontent-%COMP%]{width:280px;align-items:center;justify-content:center}}"]}),e})();var E=l(5899);let P=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-loader"]],decls:2,vars:0,consts:[["mode","indeterminate"],[1,"main"]],template:function(n,o){1&n&&t._UZ(0,"mat-progress-bar",0)(1,"div",1)},directives:[E.pW],styles:[".main[_ngcontent-%COMP%]{min-height:77vh;background:#f6f6f6;box-shadow:0 -300px 150px -120px #8c8c8c inset;animation:background 3s infinite alternate}@keyframes background{50%{background:#F6F6F6;box-shadow:0 -300px 150px -150px #8f8f8f inset}}"]}),e})();function S(e,i){if(1&e&&(t.ynx(0),t._UZ(1,"app-board-item",6),t.BQk()),2&e){const n=i.$implicit,o=i.index;t.xp6(1),t.Q6J("board",n)("index",o)}}function N(e,i){if(1&e&&(t.ynx(0),t.YNc(1,S,2,2,"ng-container",5),t.BQk()),2&e){const n=i.ngIf;t.xp6(1),t.Q6J("ngForOf",n)}}function y(e,i){if(1&e&&(t.TgZ(0,"section",2)(1,"div",3),t.YNc(2,N,2,1,"ng-container",4),t.ALo(3,"async"),t.qZA()()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,n.boardsService.allBoards$))}}function L(e,i){1&e&&t._UZ(0,"app-loader")}let B=(()=>{class e{constructor(n,o){this.boardsService=n,this.loaderService=o}ngOnInit(){this.loaderService.isLoadingOn(),this.boardsService.updateBoards()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.E),t.Y36(O.D))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-boards"]],decls:4,vars:4,consts:[["class","main-container",4,"ngIf","ngIfElse"],["loading",""],[1,"main-container"],[1,"boards-block"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"board","index"]],template:function(n,o){if(1&n&&(t.YNc(0,y,4,3,"section",0),t.ALo(1,"async"),t.YNc(2,L,1,0,"ng-template",null,1,t.W1O)),2&n){const r=t.MAs(3);t.Q6J("ngIf",!t.lcZ(1,2,o.loaderService.isLoading$))("ngIfElse",r)}},directives:[d.O5,d.sg,Z,P],pipes:[d.Ov],styles:[".main-container[_ngcontent-%COMP%]{min-height:79vh}.main-container[_ngcontent-%COMP%]   .boards-block[_ngcontent-%COMP%]{width:85%;margin:0 auto;display:flex;align-items:center;justify-content:flex-start;flex-wrap:wrap;padding:2vmin 0}@media (max-width: 1024px) and (orientation: landscape){.main-container[_ngcontent-%COMP%]{min-height:77vh}}@media (max-width: 768px) and (orientation: portrait){.main-container[_ngcontent-%COMP%]{min-height:77vh}.main-container[_ngcontent-%COMP%]   .boards-block[_ngcontent-%COMP%]{justify-content:center}}"]}),e})();var a=l(3075),M=l(108),m=l(7322),v=l(7531);function F(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"COLUMN_FORM.ERROR")))}let q=(()=>{class e{constructor(n,o,r){this.dialogRef=n,this.fb=o,this.translate=r}ngOnInit(){this.columnForm=this.fb.group({title:["",a.kI.required]})}reject(){this.dialogRef.close(!1)}onSubmit(){!this.columnForm.value||this.dialogRef.close(this.columnForm.value)}confirm(){this.onSubmit()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(M.z),t.Y36(a.qu),t.Y36(s.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-create-new-column"]],decls:19,vars:18,consts:[[1,"wrapper"],[1,"modal_headline"],[1,"column-form",3,"formGroup","submit"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","title","autocomplete","off",3,"placeholder"],[4,"ngIf"],[1,"column-form_buttons"],["mat-raised-button","","color","accent",3,"click"],["type","submit","mat-raised-button","","color","primary",3,"disabled","click"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"form",2),t.NdJ("submit",function(){return o.onSubmit()}),t.TgZ(5,"mat-form-field",3)(6,"mat-label"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._UZ(9,"input",4),t.ALo(10,"translate"),t.YNc(11,F,3,3,"mat-error",5),t.qZA()(),t.TgZ(12,"div",6)(13,"button",7),t.NdJ("click",function(){return o.reject()}),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"button",8),t.NdJ("click",function(){return o.confirm()}),t._uU(17),t.ALo(18,"translate"),t.qZA()()()),2&n){let r;t.xp6(2),t.Oqu(t.lcZ(3,8,"COLUMN_FORM.ENTER_COLUMN_NAME")),t.xp6(2),t.Q6J("formGroup",o.columnForm),t.xp6(3),t.Oqu(t.lcZ(8,10,"COLUMN_FORM.COLUMN_TITLE")),t.xp6(2),t.s9C("placeholder",t.lcZ(10,12,"COLUMN_FORM.COLUMN_TITLE")),t.xp6(2),t.Q6J("ngIf",null==(r=o.columnForm.get("title"))?null:r.hasError("required")),t.xp6(3),t.Oqu(t.lcZ(15,14,"COLUMN_FORM.CANCEL")),t.xp6(2),t.Q6J("disabled",o.columnForm.invalid),t.xp6(1),t.Oqu(t.lcZ(18,16,"COLUMN_FORM.CREATE"))}},directives:[a._Y,a.JL,a.sg,m.KE,m.hX,v.Nt,a.Fj,a.JJ,a.u,d.O5,m.TO,_.lW],pipes:[s.X$],styles:[".wrapper[_ngcontent-%COMP%]{width:245px}.modal_headline[_ngcontent-%COMP%]{font-size:1.2em}.wrapper[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.column-form_buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}"]}),e})();var p=l(3737),b=l(9300),h=l(3900);function U(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CREATE_NEW_TASK.ERROR")))}function D(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CREATE_NEW_TASK.ERROR")))}let J=(()=>{class e{constructor(n,o,r){this.dialogRef=n,this.fb=o,this.translate=r}ngOnInit(){this.taskForm=this.fb.group({title:["",a.kI.required],description:["",a.kI.required]})}reject(){this.dialogRef.close(!1)}onSubmit(){!this.taskForm.value||this.dialogRef.close(this.taskForm.value)}confirm(){this.onSubmit()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(M.z),t.Y36(a.qu),t.Y36(s.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-create-new-task"]],decls:26,vars:25,consts:[[1,"wrapper"],[1,"modal_headline"],[1,"title-form",3,"formGroup","submit"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","title","autocomplete","off",3,"placeholder"],[4,"ngIf"],["matInput","","formControlName","description","autocomplete","off",3,"placeholder"],[1,"task-form_buttons"],["mat-raised-button","","color","accent",3,"click"],["type","submit","mat-raised-button","","color","primary",3,"disabled","click"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"form",2),t.NdJ("submit",function(){return o.onSubmit()}),t.TgZ(5,"mat-form-field",3)(6,"mat-label"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._UZ(9,"input",4),t.ALo(10,"translate"),t.YNc(11,U,3,3,"mat-error",5),t.qZA(),t.TgZ(12,"mat-form-field",3)(13,"mat-label"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t._UZ(16,"input",6),t.ALo(17,"translate"),t.YNc(18,D,3,3,"mat-error",5),t.qZA()(),t.TgZ(19,"div",7)(20,"button",8),t.NdJ("click",function(){return o.reject()}),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"button",9),t.NdJ("click",function(){return o.confirm()}),t._uU(24),t.ALo(25,"translate"),t.qZA()()()),2&n){let r,c;t.xp6(2),t.Oqu(t.lcZ(3,11,"CREATE_NEW_TASK.ENTER_TASK_NAME")),t.xp6(2),t.Q6J("formGroup",o.taskForm),t.xp6(3),t.Oqu(t.lcZ(8,13,"CREATE_NEW_TASK.TASK_TITLE")),t.xp6(2),t.s9C("placeholder",t.lcZ(10,15,"CREATE_NEW_TASK.TASK_TITLE")),t.xp6(2),t.Q6J("ngIf",null==(r=o.taskForm.get("title"))?null:r.hasError("required")),t.xp6(3),t.Oqu(t.lcZ(15,17,"CREATE_NEW_TASK.TASK_DESCTIPRION")),t.xp6(2),t.s9C("placeholder",t.lcZ(17,19,"CREATE_NEW_TASK.TASK_DESCTIPRION")),t.xp6(2),t.Q6J("ngIf",null==(c=o.taskForm.get("description"))?null:c.hasError("required")),t.xp6(3),t.Oqu(t.lcZ(22,21,"CREATE_NEW_TASK.CANCEL")),t.xp6(2),t.Q6J("disabled",o.taskForm.invalid),t.xp6(1),t.Oqu(t.lcZ(25,23,"CREATE_NEW_TASK.CREATE"))}},directives:[a._Y,a.JL,a.sg,m.KE,m.hX,v.Nt,a.Fj,a.JJ,a.u,d.O5,m.TO,_.lW],pipes:[s.X$],styles:[".wrapper[_ngcontent-%COMP%]{width:245px}.modal_headline[_ngcontent-%COMP%]{font-size:1.2em}.wrapper[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.task-form_buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}"]}),e})();var w=l(427),R=l(6647);function Y(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"EDIT_TASK.ERROR")))}function K(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"EDIT_TASK.ERROR")))}let j=(()=>{class e{constructor(n,o,r,c){this.dialogRef=n,this.fb=o,this.translate=r,this.data=c}ngOnInit(){this.editForm=this.fb.group({title:[this.data.dataTitle,a.kI.required],description:[this.data.dataDescription,a.kI.required]})}reject(){this.dialogRef.close(!1)}onSubmit(){!this.editForm.value||this.dialogRef.close(this.editForm.value)}confirm(){this.onSubmit()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(M.z),t.Y36(a.qu),t.Y36(s.sK),t.Y36(R.K))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-edit-task"]],decls:26,vars:25,consts:[[1,"wrapper"],[1,"modal_headline"],[1,"title-form",3,"formGroup","submit"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","title",3,"placeholder"],[4,"ngIf"],["matInput","","formControlName","description",3,"placeholder"],[1,"edit-task-form_buttons"],["mat-raised-button","","color","accent",3,"click"],["type","submit","mat-raised-button","","color","primary",3,"disabled","click"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"form",2),t.NdJ("submit",function(){return o.onSubmit()}),t.TgZ(5,"mat-form-field",3)(6,"mat-label"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._UZ(9,"input",4),t.ALo(10,"translate"),t.YNc(11,Y,3,3,"mat-error",5),t.qZA(),t.TgZ(12,"mat-form-field",3)(13,"mat-label"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t._UZ(16,"input",6),t.ALo(17,"translate"),t.YNc(18,K,3,3,"mat-error",5),t.qZA()(),t.TgZ(19,"div",7)(20,"button",8),t.NdJ("click",function(){return o.reject()}),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"button",9),t.NdJ("click",function(){return o.confirm()}),t._uU(24),t.ALo(25,"translate"),t.qZA()()()),2&n){let r,c;t.xp6(2),t.Oqu(t.lcZ(3,11,"EDIT_TASK.ENTER_TASK_NAME")),t.xp6(2),t.Q6J("formGroup",o.editForm),t.xp6(3),t.Oqu(t.lcZ(8,13,"EDIT_TASK.TASK_TITLE")),t.xp6(2),t.s9C("placeholder",t.lcZ(10,15,"EDIT_TASK.TASK_TITLE")),t.xp6(2),t.Q6J("ngIf",null==(r=o.editForm.get("title"))?null:r.hasError("required")),t.xp6(3),t.Oqu(t.lcZ(15,17,"EDIT_TASK.TASK_DESCTIPRION")),t.xp6(2),t.s9C("placeholder",t.lcZ(17,19,"EDIT_TASK.TASK_DESCTIPRION")),t.xp6(2),t.Q6J("ngIf",null==(c=o.editForm.get("description"))?null:c.hasError("required")),t.xp6(3),t.Oqu(t.lcZ(22,21,"EDIT_TASK.CANCEL")),t.xp6(2),t.Q6J("disabled",o.editForm.invalid),t.xp6(1),t.Oqu(t.lcZ(25,23,"EDIT_TASK.UPDATE"))}},directives:[a._Y,a.JL,a.sg,m.KE,m.hX,v.Nt,a.Fj,a.JJ,a.u,d.O5,m.TO,_.lW],pipes:[s.X$],styles:[".wrapper[_ngcontent-%COMP%]{width:245px}.modal_headline[_ngcontent-%COMP%]{font-size:1.2em}.wrapper[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.edit-task-form_buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}"]}),e})(),Q=(()=>{class e{constructor(n,o,r,c){this.dialogService=n,this.boardService=o,this.translate=r,this.userService=c}ngOnInit(){this.userService.currentUserId().subscribe(n=>this.currentUserId=n)}removeTask(){this.dialogService.open(T.S,{data:`${this.translate.instant("CONFIRMATION.DELETE_TASK")} "${this.task.title}" ?`}).afterClosed().pipe((0,b.h)(n=>n),(0,h.w)(()=>this.boardService.deleteTaskById(this.boardId,this.columnId,this.task.id))).subscribe(()=>this.boardService.updateCurrentBoard(this.boardId))}editTask(){this.dialogService.open(j,{data:{dataTitle:`${this.task.title}`,dataDescription:`${this.task.description}`}}).afterClosed().pipe((0,b.h)(n=>n),(0,h.w)(n=>{const o={title:n.title,done:!1,order:this.boardService.calculateTaskOrder(this.columnId),description:n.description,userId:this.currentUserId,boardId:this.boardId,columnId:this.columnId};return this.boardService.updateTaskById(this.boardId,this.columnId,this.task.id,o)})).subscribe(()=>this.boardService.updateCurrentBoard(this.boardId))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(f.x),t.Y36(g.E),t.Y36(s.sK),t.Y36(w.K))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-task-item"]],inputs:{task:"task",boardId:"boardId",columnId:"columnId"},decls:12,vars:2,consts:[[1,"main-container"],[1,"title-container"],[1,"title"],[1,"sub-title"],[1,"button","edit",3,"click"],[1,"button","close",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"p",2),t._uU(3),t.qZA(),t.TgZ(4,"p",3),t._uU(5),t.qZA()(),t.TgZ(6,"button",4),t.NdJ("click",function(){return o.editTask()}),t.TgZ(7,"mat-icon"),t._uU(8,"edit"),t.qZA()(),t.TgZ(9,"button",5),t.NdJ("click",function(){return o.removeTask()}),t.TgZ(10,"mat-icon"),t._uU(11,"close"),t.qZA()()()),2&n&&(t.xp6(3),t.Oqu(o.task.title),t.xp6(2),t.Oqu(o.task.description))},directives:[C.Hw],styles:[".main-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin:2vmin auto;padding:0 2%}.main-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;align-items:center;justify-content:center;background-color:transparent;color:#99b2c6;border-radius:50%;border:1px solid #99b2c6;padding:6%;margin:0 1%;cursor:pointer;transition:all .2s linear}.main-container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{box-shadow:0 0 3px #000000bf;transform:rotate(90deg)}.main-container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:active{transform:rotate(90deg) scale(.8)}.main-container[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]:hover{box-shadow:0 0 3px #000000bf}.main-container[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]:active{transform:scale(.8)}.main-container[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{width:75%}.main-container[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.main-container[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:400;line-height:1.4rem;letter-spacing:.08rem;color:#06152b}.main-container[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   .sub-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:300;line-height:1.3rem;color:#809fb8;margin-left:5%;padding-bottom:1.5vmin}"]}),e})(),z=(()=>{class e{transform(n,o){if(0===n.length||""===o)return n;const r=[];return n.forEach(c=>{(c.title.toLowerCase().includes(o.toLowerCase())||c.description.toLowerCase().includes(o.toLowerCase()))&&r.push(c)}),r}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.Yjl({name:"search",type:e,pure:!0}),e})();function $(e,i){if(1&e&&(t.TgZ(0,"div",14),t._UZ(1,"app-task-item",15),t.qZA()),2&e){const n=i.$implicit,o=t.oxw();t.xp6(1),t.Q6J("task",n)("boardId",o.boardId)("columnId",o.column.id)}}const W=function(){return[]};let X=(()=>{class e{constructor(n,o,r,c,k,it){this.boardsService=n,this.fb=o,this.dialogService=r,this.userService=c,this.translate=k,this.loaderService=it,this.dropTaskEvent=new t.vpe,this.inputShow=!1}ngOnInit(){this.columnForm=this.fb.group({title:[this.column.title,[a.kI.required]]}),this.userService.currentUserId().subscribe(n=>this.currentUserId=n)}changeTitleMenu(){this.inputShow=!this.inputShow}confirmChangeTitle(){this.boardId&&this.column.id&&!this.columnForm.invalid&&this.boardsService.updateColumnById(this.boardId,this.column.id,{title:this.columnForm.controls.title.value,order:this.column.order}).subscribe(()=>{this.boardsService.updateCurrentBoard(this.boardId),this.inputShow=!1})}cancelChangeTitle(){this.inputShow=!1}removeColumn(){this.dialogService.open(T.S,{data:`${this.translate.instant("CONFIRMATION.DELETE_COLUMN")} "${this.column.title}" ?`}).afterClosed().pipe((0,b.h)(n=>n),(0,h.w)(()=>this.boardsService.deleteColumnById(this.boardId,this.column.id))).subscribe(()=>this.boardsService.updateCurrentBoard(this.boardId))}createTask(){this.dialogService.open(J).afterClosed().pipe((0,b.h)(n=>n),(0,h.w)(n=>{const o={title:n.title,done:!1,description:n.description,order:this.boardsService.calculateTaskOrder(this.column.id),userId:this.currentUserId};return this.boardsService.createTask(this.boardId,this.column.id,o)})).subscribe(()=>this.boardsService.updateCurrentBoard(this.boardId))}dropTask(n){this.dropTaskEvent.emit(n)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.E),t.Y36(a.qu),t.Y36(f.x),t.Y36(w.K),t.Y36(s.sK),t.Y36(O.D))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-column-item"]],inputs:{columnData:"columnData",column:"column",color:"color",boardId:"boardId",searchString:"searchString"},outputs:{dropTaskEvent:"dropTaskEvent"},decls:26,vars:16,consts:[[1,"main-container","container-scroll"],[1,"close",3,"click"],[1,"column-container"],[3,"formGroup","submit"],[1,"title-block"],[1,"title",3,"click"],["type","text","formControlName","title",1,"title-input",3,"value"],["type","submit",1,"button_confirm"],[1,"button_reject",3,"click"],[1,"column-block"],[1,"column-container_create"],[1,"button_create",3,"click"],["cdkDropList","",1,"column-container_tasks",3,"id","cdkDropListConnectedTo","cdkDropListData","cdkDropListDropped"],["class","task-item","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"task-item"],[1,"task",3,"task","boardId","columnId"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return o.removeColumn()}),t.TgZ(2,"mat-icon"),t._uU(3,"delete"),t.qZA()(),t.TgZ(4,"div",2)(5,"form",3),t.NdJ("submit",function(){return o.confirmChangeTitle()}),t.TgZ(6,"div",4)(7,"p",5),t.NdJ("click",function(){return o.changeTitleMenu()}),t._uU(8),t.qZA(),t._UZ(9,"input",6),t.TgZ(10,"button",7)(11,"mat-icon"),t._uU(12," check "),t.qZA()(),t.TgZ(13,"button",8),t.NdJ("click",function(){return o.cancelChangeTitle()}),t.TgZ(14,"mat-icon"),t._uU(15," cancel "),t.qZA()()()(),t.TgZ(16,"div",9)(17,"div",10)(18,"button",11),t.NdJ("click",function(){return o.createTask()}),t.TgZ(19,"mat-icon"),t._uU(20," add "),t.qZA(),t._uU(21),t.ALo(22,"translate"),t.qZA()(),t.TgZ(23,"div",12),t.NdJ("cdkDropListDropped",function(c){return o.dropTask(c)}),t.YNc(24,$,2,3,"div",13),t.ALo(25,"search"),t.qZA()()()()),2&n&&(t.xp6(5),t.Q6J("formGroup",o.columnForm),t.xp6(1),t.ekj("titleInput",o.inputShow),t.xp6(2),t.Oqu(o.column.title),t.xp6(1),t.s9C("value",o.column.title),t.xp6(12),t.hij(" ",t.lcZ(22,10,"ONE_BOARD.ADD_TASK")," "),t.xp6(2),t.Q6J("id","column-"+o.columnData.id)("cdkDropListConnectedTo",o.columnData.otherColumn)("cdkDropListData",o.columnData.tasks),t.xp6(1),t.Q6J("ngForOf",t.xi3(25,12,o.columnData.tasks||t.DdM(15,W),o.searchString)))},directives:[C.Hw,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,p.Wj,d.sg,p.Zt,Q],pipes:[s.X$,z],styles:[".container-scroll[_ngcontent-%COMP%]{scrollbar-width:var(.4rem);scrollbar-color:var(rgba(9, 151, 217, .2)) var(rgba(0, 0, 0, .05))}.container-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:.4rem}.container-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:rgba(0,0,0,.05);border-radius:calc(var(.4rem) / 4)}.container-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0997d933;border-radius:calc(var(.4rem) / 4);border:0 solid var(rgba(0, 0, 0, .05));background-image:linear-gradient(180deg,rgba(9,151,217,.2) 0%,rgba(63,81,181,.4) 90%)}.main-container[_ngcontent-%COMP%]{width:350px;max-height:50vh;padding:2%;display:flex;align-items:stretch;border-radius:5px;border:2px solid #3d6a90;position:relative;flex-direction:column;margin-right:3vmin;overflow-y:scroll;overflow-x:hidden;color:#3d6a90}.main-container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;right:6%;top:.5vmin;width:30px;height:30px;color:#3d6a90;background-color:transparent;margin:2%;cursor:pointer;transition:all .2s linear}.main-container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{transform:rotate(-45deg) translate(6px,2px)}.main-container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:active{transform:rotate(45deg)}.column-container[_ngcontent-%COMP%]{margin:auto 1.2vmin}.column-container[_ngcontent-%COMP%]   .title-block[_ngcontent-%COMP%]{margin-bottom:1vmin;padding:1vmin 0}.column-container[_ngcontent-%COMP%]   .title-block[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:80%;font-size:1.2rem;font-weight:400;line-height:1.4rem;letter-spacing:.2rem;color:#06152b}.column-container[_ngcontent-%COMP%]   .title-block[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%], .column-container[_ngcontent-%COMP%]   .title-block[_ngcontent-%COMP%]   .button_confirm[_ngcontent-%COMP%], .column-container[_ngcontent-%COMP%]   .title-block[_ngcontent-%COMP%]   .button_reject[_ngcontent-%COMP%]{display:none}.column-container[_ngcontent-%COMP%]   .title-block.titleInput[_ngcontent-%COMP%]{display:flex}.column-container[_ngcontent-%COMP%]   .title-block.titleInput[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:none}.column-container[_ngcontent-%COMP%]   .title-block.titleInput[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%], .column-container[_ngcontent-%COMP%]   .title-block.titleInput[_ngcontent-%COMP%]   .button_confirm[_ngcontent-%COMP%], .column-container[_ngcontent-%COMP%]   .title-block.titleInput[_ngcontent-%COMP%]   .button_reject[_ngcontent-%COMP%]{display:block}.column-container[_ngcontent-%COMP%]   .title-block.titleInput[_ngcontent-%COMP%]   .button_confirm[_ngcontent-%COMP%], .column-container[_ngcontent-%COMP%]   .title-block.titleInput[_ngcontent-%COMP%]   .button_reject[_ngcontent-%COMP%]{background-color:transparent}.column-container[_ngcontent-%COMP%]   .title-block.titleInput[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]{width:65%;font-size:1.2rem;line-height:1.4rem;letter-spacing:0rem;border-bottom:1px solid #3d6a90;padding:2%}.column-container_create[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.column-container_create[_ngcontent-%COMP%]   .button_create[_ngcontent-%COMP%]{background-color:#1a237ebf;display:flex;align-items:center;justify-content:center;width:90%;height:3rem;border-radius:8px;font-size:1.2rem;letter-spacing:.2rem;transition:all .2s linear;color:#fff;transition:all .2s ease-in-out}.column-container_create[_ngcontent-%COMP%]   .button_create[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #000000bf}.column-container_create[_ngcontent-%COMP%]   .button_create[_ngcontent-%COMP%]:active{box-shadow:0 0 5px #6b6868bf;transform:scale(.95)}@media (max-width: 1024px) and (orientation: landscape){.main-container[_ngcontent-%COMP%]{width:300px;max-height:40vh}}@media (max-width: 1024px) and (orientation: portrait){.main-container[_ngcontent-%COMP%]{width:300px;max-height:calc(40vh - 1rem);overflow-y:scroll;margin-left:3vmin}}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}"]}),e})();function H(e,i){if(1&e&&(t.ynx(0),t.TgZ(1,"p",16),t._uU(2),t.qZA(),t.BQk()),2&e){const n=t.oxw(2);t.xp6(2),t.Oqu(n.board.title)}}function G(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div",18)(1,"app-column-item",19),t.NdJ("dropTaskEvent",function(r){return t.CHM(n),t.oxw(3).dropTask(r)}),t.qZA()()}if(2&e){const n=i.$implicit,o=i.index,r=t.oxw(3);t.xp6(1),t.Q6J("columnData",r.getColumnData(o,n))("column",n)("boardId",r.boardId)("searchString",r.searchString)}}function V(e,i){if(1&e&&(t.ynx(0),t.YNc(1,G,2,4,"div",17),t.BQk()),2&e){const n=i.ngIf;t.xp6(1),t.Q6J("ngForOf",n)}}function tt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"section",2)(1,"div",3)(2,"div",4)(3,"button",5),t.NdJ("click",function(){return t.CHM(n),t.oxw().goToBoards()}),t.TgZ(4,"mat-icon"),t._uU(5," keyboard_arrow_left "),t.qZA()()(),t.TgZ(6,"div",6)(7,"div",7),t.YNc(8,H,3,1,"ng-container",8),t.TgZ(9,"div",9)(10,"mat-icon"),t._uU(11,"search"),t.qZA(),t.TgZ(12,"input",10),t.NdJ("ngModelChange",function(r){return t.CHM(n),t.oxw().searchString=r}),t.ALo(13,"translate"),t.qZA()()(),t.TgZ(14,"div",11)(15,"div",12)(16,"div",13)(17,"button",14),t.NdJ("click",function(){return t.CHM(n),t.oxw().createColumn()}),t.TgZ(18,"mat-icon"),t._uU(19," add "),t.qZA(),t._uU(20),t.ALo(21,"translate"),t.qZA()(),t.TgZ(22,"div",15),t.NdJ("cdkDropListDropped",function(r){return t.CHM(n),t.oxw().drop(r)}),t.YNc(23,V,2,1,"ng-container",8),t.qZA()()()()()()}if(2&e){const n=t.oxw();t.xp6(8),t.Q6J("ngIf",n.board),t.xp6(4),t.s9C("placeholder",t.lcZ(13,5,"ONE_BOARD.SEARCH")),t.Q6J("ngModel",n.searchString),t.xp6(8),t.hij(" ",t.lcZ(21,7,"ONE_BOARD.ADD_COLUMN")," "),t.xp6(3),t.Q6J("ngIf",null==n.board?null:n.board.columns)}}function nt(e,i){1&e&&t._UZ(0,"app-loader")}const et=[{path:"",component:B},{path:":id",component:(()=>{class e{constructor(n,o,r,c,k){this.router=n,this.route=o,this.boardsService=r,this.dialog=c,this.loaderService=k,this.boardId=this.route.snapshot.params.id,this.searchString=""}ngOnInit(){this.loaderService.isLoadingOn(),this.boardsService.updateCurrentBoard(this.boardId),this.boardsService.boardById$.subscribe(n=>this.board=n)}goToBoards(){this.router.navigate(["boards"])}createColumn(){this.dialog.open(q).afterClosed().pipe((0,b.h)(o=>o),(0,h.w)(o=>{const r={title:o.title,order:this.boardsService.calculateColumnOrder()};return this.boardsService.createColumn(this.boardId,r)})).subscribe(()=>this.boardsService.updateCurrentBoard(this.boardId))}getColumnData(n,o){var r;return Object.assign(Object.assign({},o),{id:n,otherColumn:[...Array(null===(r=this.board.columns)||void 0===r?void 0:r.length).keys()].filter(c=>c!==n).map(c=>`column-${c}`)})}dropTask(n){var o;!(null===(o=n.container)||void 0===o?void 0:o.data)||(n.previousContainer===n.container?(0,p.bA)(n.container.data,n.previousIndex,n.currentIndex):(0,p.EA)(n.previousContainer.data,n.container.data,n.previousIndex,n.currentIndex))}drop(n){n.previousIndex!==n.currentIndex&&(0,p.bA)(this.board.columns,n.previousIndex,n.currentIndex)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.F0),t.Y36(u.gz),t.Y36(g.E),t.Y36(f.x),t.Y36(O.D))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-one-board"]],decls:4,vars:4,consts:[["class","main-container colored-bg",4,"ngIf","ngIfElse"],["loading",""],[1,"main-container","colored-bg"],[1,"one-board-container"],[1,"back-container"],["mat-fab","",1,"button_back",3,"click"],[1,"board-container"],[1,"title-block"],[4,"ngIf"],[1,"search-block_container"],["autocomplete","off",1,"search-input",3,"placeholder","ngModel","ngModelChange"],[1,"board-block","container-scroll"],[1,"board-block_container"],[1,"board-container_create"],[1,"button_create",3,"click"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"board-container_columns",3,"cdkDropListDropped"],[1,"title"],["class","column-item","cdkDrag","",4,"ngFor","ngForOf"],["cdkDrag","",1,"column-item"],[3,"columnData","column","boardId","searchString","dropTaskEvent"]],template:function(n,o){if(1&n&&(t.YNc(0,tt,24,9,"section",0),t.ALo(1,"async"),t.YNc(2,nt,1,0,"ng-template",null,1,t.W1O)),2&n){const r=t.MAs(3);t.Q6J("ngIf",!t.lcZ(1,2,o.loaderService.isLoading$))("ngIfElse",r)}},directives:[d.O5,_.lW,C.Hw,a.Fj,a.JJ,a.On,p.Wj,d.sg,p.Zt,X,P],pipes:[d.Ov,s.X$],styles:[".main-container[_ngcontent-%COMP%]{height:79vh;max-height:79vh;overflow-x:hidden;overflow-y:hidden;color:#3d6a90}.container-scroll[_ngcontent-%COMP%]{scrollbar-width:var(1rem);scrollbar-color:var(rgba(9, 151, 217, .2)) var(rgba(0, 0, 0, .05))}.container-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:1rem}.container-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:rgba(0,0,0,.05);border-radius:calc(var(1rem) / 4)}.container-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#0997d933;border-radius:calc(var(1rem) / 4);border:0 solid var(rgba(0, 0, 0, .05));background-image:linear-gradient(180deg,rgba(9,151,217,.2) 0%,rgba(63,81,181,.4) 90%)}.one-board-container[_ngcontent-%COMP%]{width:85%;margin:2vmin auto;display:flex;justify-content:space-between;align-items:stretch}.one-board-container[_ngcontent-%COMP%]   .back-container[_ngcontent-%COMP%]{width:3.5%}.board-container[_ngcontent-%COMP%]{overflow-x:hidden;background:#FEFEFE;border:1px solid #5e686382;border-radius:20px;min-width:100%}.search-block_container[_ngcontent-%COMP%]{width:30%;height:50px;margin:1.5vmin;padding:.5% 2%;border:1px #809fb8 solid;border-radius:10px;display:flex;align-items:center;justify-content:space-between}.search-input[_ngcontent-%COMP%]{width:88%;color:#3d6a90;font-size:1.1rem;height:45px;cursor:pointer}.title-block[_ngcontent-%COMP%]{width:83vw;padding:2vmin 3vmax;display:flex;justify-content:space-between;align-items:center}.title-block[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2rem;text-transform:capitalize;font-style:normal;font-weight:700;line-height:2.2rem;letter-spacing:.2rem;color:#06152b}.board-block[_ngcontent-%COMP%]{min-height:50vh;height:60vh;overflow-x:scroll;overflow-y:hidden}.board-block_container[_ngcontent-%COMP%]{display:flex}.button_create[_ngcontent-%COMP%]{background-color:#1a237ebf;display:flex;align-items:center;justify-content:center;width:200px;height:3rem;border-radius:8px;font-size:1.2rem;transition:all .2s linear;transform:rotate(270deg) translate(-50%);color:#fff;transition:all .2s ease-in-out}.button_create[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #000000bf}.button_create[_ngcontent-%COMP%]:active{box-shadow:0 0 5px #6b6868bf;transform:rotate(270deg) translate(-50%) scale(.95)}.board-container_columns[_ngcontent-%COMP%]{display:flex}@media (max-width: 1024px) and (orientation: landscape){.main-container[_ngcontent-%COMP%]{max-height:calc(70vh - 1rem)}.main-container[_ngcontent-%COMP%]   .back-container[_ngcontent-%COMP%]{width:6%}.main-container[_ngcontent-%COMP%]   .search-block_container[_ngcontent-%COMP%]{width:50%}.main-container[_ngcontent-%COMP%]   .board-container[_ngcontent-%COMP%]   .title-block[_ngcontent-%COMP%]{width:100%}.main-container[_ngcontent-%COMP%]   .board-container[_ngcontent-%COMP%]   .title-block[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center;width:40%}.main-container[_ngcontent-%COMP%]   .board-container[_ngcontent-%COMP%]   .board-block[_ngcontent-%COMP%]{width:100%}.main-container[_ngcontent-%COMP%]   .button_create[_ngcontent-%COMP%]{width:120px;font-size:1rem}}@media (max-width: 768px) and (orientation: portrait){.main-container[_ngcontent-%COMP%]{height:calc(74vh - 1rem);max-height:calc(76vh - 1rem)}.main-container[_ngcontent-%COMP%]   .back-container[_ngcontent-%COMP%]{width:10%}.main-container[_ngcontent-%COMP%]   .title-block[_ngcontent-%COMP%]{flex-direction:column;width:100%}.main-container[_ngcontent-%COMP%]   .title-block[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:left}.main-container[_ngcontent-%COMP%]   .board-block_container[_ngcontent-%COMP%]{flex-direction:column}.main-container[_ngcontent-%COMP%]   .search-block_container[_ngcontent-%COMP%]{width:80%}.main-container[_ngcontent-%COMP%]   .one-board-container[_ngcontent-%COMP%]{width:95%}.main-container[_ngcontent-%COMP%]   .board-block[_ngcontent-%COMP%]{flex-direction:column;min-height:45vh;height:50vh}.button_create[_ngcontent-%COMP%]{margin:3vmin auto;transform:none;padding:3vh 0}.button_create[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #000000bf}.button_create[_ngcontent-%COMP%]:active{box-shadow:0 0 5px #6b6868bf;transform:none}}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}"]}),e})()}];let ot=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[u.Bz.forChild(et)],u.Bz]}),e})(),rt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[ot,I.m]]}),e})()}}]);